{"ast":null,"code":"import _classCallCheck from\"E:/wamp64/www/TESTE SPLENDA/TGP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"E:/wamp64/www/TESTE SPLENDA/TGP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"E:/wamp64/www/TESTE SPLENDA/TGP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"E:/wamp64/www/TESTE SPLENDA/TGP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import logo from\"./logo.svg\";import{FaEdit,FaTrashAlt}from'react-icons/fa';import{BiAddToQueue}from\"react-icons/bi\";import axios from\"axios\";import{Switch,Route,Link}from'react-router-dom';import Home from\"./Home\";import{timers}from'jquery';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var urlParams=new URLSearchParams(window.location.search);var baseURL=\"http://localhost:3002/unops\";var baseURLTurno=\"http://localhost:3002/lista-turnos\";var baseURLRestaurantes=\"http://localhost:3002/lista-restaurantes\";var baseURLFeriados=\"http://localhost:3002/lista-feriados\";var idMainObj=urlParams.get(\"value\");var baseUrlGenerica=null;var objLocal=null;var objtoRemove=null;var listaUpdate=null;var getTexto=null;// reseta o formulário\nvar initialState={unop:{\"nome\":\"\",\"cnpj\":\"\",\"situação\":\"\",\"lista-turnos\":{\"id\":\"\",\"nome\":\"\",\"unopId\":\"\"},\"lista-restaurantes\":{\"id\":\"\",\"nome\":\"\",\"unopId\":\"\"},\"lista-feriados\":{\"id\":\"\",\"nome\":\"\",\"unopId\":\"\"}},list:[],listCat:[],obj:{}};var getUnops=function getUnops(){var unop=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(unop==null){return axios.get(baseURL).then(function(unop){initialState.list=unop.data;});}else{var listLocal=[];initialState.list=listLocal;initialState.list.push(unop);return initialState.list;}};getUnops();var getCatTurno=function getCatTurno(){var unop=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(unop==null){return axios.get(baseURLTurno).then(function(unop){initialState.listCatTurno=unop.data;});}};getCatTurno();var getCatRestaurantes=function getCatRestaurantes(){var unop=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(unop==null){return axios.get(baseURLRestaurantes).then(function(unop){initialState.listCatRestaurantes=unop.data;});}};getCatRestaurantes();var getCatFeriados=function getCatFeriados(){var unop=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(unop==null){return axios.get(baseURLFeriados).then(function(unop){initialState.listCatFeriados=unop.data;});}};getCatFeriados();var InserirouEditar=/*#__PURE__*/function(_React$Component){_inherits(InserirouEditar,_React$Component);var _super=_createSuper(InserirouEditar);function InserirouEditar(){var _this;_classCallCheck(this,InserirouEditar);_this=_super.call(this);_this.state={initialState:initialState};return _this;}_createClass(InserirouEditar,[{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;axios.get(baseURL).then(function(resp){_this2.setState({list:resp.data});_this2.getObjectById();});}},{key:\"getObjectById\",value:function getObjectById(){var id=urlParams.get(\"value\");var objLocal=initialState.list.filter(function(u){return u.id==id;});this.setState({obj:objLocal});initialState.obj=objLocal;this.renderEditionFrom(objLocal);}},{key:\"getByClick\",value:function getByClick(url){if(baseUrlGenerica){baseUrlGenerica=null;baseUrlGenerica=url;}else{baseUrlGenerica=url;}if(url==\"http://localhost:3002/lista-turnos\"){document.getElementById('texto_form').innerHTML=\"\";document.getElementById('texto_form').innerHTML=\"Incluir Turno\";return;}if(url==\"http://localhost:3002/lista-restaurantes\"){document.getElementById('texto_form').innerHTML=\"\";document.getElementById('texto_form').innerHTML=\"Incluir Restaurante\";return;}if(url==\"http://localhost:3002/lista-feriados\"){document.getElementById('texto_form').innerHTML=\"\";document.getElementById('texto_form').innerHTML=\"Incluir Feriados\";return;}}},{key:\"clear\",value:function clear(){this.setState({unop:initialState.unop});}},{key:\"save\",value:function save(){var obj={\"id\":\"\",\"nome\":\"\",\"unopId\":\"\"};var nome=document.getElementById('nome');obj.nome=nome.value;obj.unopId=idMainObj;if(nome.value==null||nome.value==\"\"){document.getElementById('ms_nome').innerHTML=\"Preencha o campo nome!\";return;}// mark\nvar unop=obj;var method=obj.id?'put':'post';var url=obj.id?\"\".concat(baseUrlGenerica,\"/\").concat(obj.id):baseUrlGenerica;axios[method](url,obj).then(function(resp){document.location.reload();});}},{key:\"getUpdateList\",value:function getUpdateList(unop){var add=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var list=listaUpdate.filter(function(u){return u.id!=unop.id;});if(add)list.unshift(unop);return list;}},{key:\"updateField\",value:function updateField(event){var unop=this.state.unop;unop[event.target.nome]=event.target.value;this.setState({unop:unop});}},{key:\"mascara_cnpj\",value:function mascara_cnpj(){var cnpj=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return function(cnpj){var cnpj=document.getElementById('cnpj');cnpj.value=cnpj.value.replace(/\\D/g,\"\").replace(/(\\d{2})(\\d)/,\"$1.$2\").replace(/(\\d{3})(\\d)/,\"$1.$2\").replace(/(\\d{3})(\\d)/,\"$1/$2\").replace(/(\\d{4})(\\d)/,\"$1-$2\");}(cnpj);}},{key:\"renderEditionFrom\",value:function renderEditionFrom(){var objParam=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;objLocal=initialState.list.filter(function(u){return u.id==urlParams.get(\"value\");});if(initialState.list.length>0){if(objLocal.length){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\" \",objLocal[0].id,\" - \",objLocal[0].nome]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"CNPJ: \",/*#__PURE__*/_jsx(\"span\",{className:\"cnpj\",children:objLocal[0].cnpj})]})]},objLocal[0].id);}}}},{key:\"remove\",value:function remove(unop,lista,url){axios.delete(\"\".concat(url,\"/\").concat(unop.id)).then(function(resp){document.location.reload();});}},{key:\"getObjectByClick\",value:function getObjectByClick(objLocal,lista,url){objtoRemove=objLocal;baseUrlGenerica=url;listaUpdate=null;listaUpdate=lista;}},{key:\"hideMsn\",value:function hideMsn(){document.getElementById('ms_nome').innerHTML=\"\";}},{key:\"renderTurnos\",value:function renderTurnos(){var _this3=this;if(initialState.list.length>0){objLocal=initialState.list.filter(function(u){return u.id==urlParams.get(\"value\");});return/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Turnos Selecionados\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[this.renderRowsTurnos(),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-dark\",\"data-toggle\":\"modal\",\"data-target\":\"#modalSubscriptionForm\",onClick:function onClick(){return _this3.getByClick(baseURLTurno);},children:\"Incluir Turno\"})})]})]})]});// }\n}}},{key:\"renderRowsTurnos\",value:function renderRowsTurnos(){var _this4=this;if(initialState.list.length>0){objLocal=initialState.list.filter(function(u){return u.id==urlParams.get(\"value\");});if(initialState.listCatTurno){if(objLocal.length>0){var list=initialState.listCatTurno.filter(function(o){return o.unopId==objLocal[0].id;});return list.map(function(obj){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:obj.nome}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{className:\"talbe-links\",\"data-toggle\":\"modal\",\"data-target\":\"#exampleModal\",onClick:function onClick(){return _this4.getObjectByClick(obj,list,baseURLTurno);},children:/*#__PURE__*/_jsx(FaTrashAlt,{})})})]},obj.id);});}}}}},{key:\"renderRestaurantes\",value:function renderRestaurantes(){var _this5=this;if(initialState.list.length>0){objLocal=initialState.list.filter(function(u){return u.id==urlParams.get(\"value\");});return/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Restaurantes selecionados\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[this.renderRowsRestaurantes(),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-dark\",\"data-toggle\":\"modal\",\"data-target\":\"#modalSubscriptionForm\",onClick:function onClick(){return _this5.getByClick(baseURLRestaurantes);},children:\"Incluir Restaurante\"})})]})]})]});// }\n}}},{key:\"renderRowsRestaurantes\",value:function renderRowsRestaurantes(){var _this6=this;if(initialState.list.length>0){objLocal=initialState.list.filter(function(u){return u.id==urlParams.get(\"value\");});if(initialState.listCatRestaurantes){var list=initialState.listCatRestaurantes.filter(function(o){return o.unopId==urlParams.get(\"value\");});listaUpdate=initialState.listCatRestaurantes;return list.map(function(obj){objtoRemove=obj;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:obj.nome}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{className:\"talbe-links\",\"data-toggle\":\"modal\",\"data-target\":\"#exampleModal\",onClick:function onClick(){return _this6.getObjectByClick(obj,list,baseURLRestaurantes);},children:/*#__PURE__*/_jsx(FaTrashAlt,{})})})]},obj.id);});}}}},{key:\"renderConfigCalendUnid\",value:function renderConfigCalendUnid(){var _this7=this;if(initialState.list.length>0){objLocal=initialState.list.filter(function(u){return u.id==urlParams.get(\"value\");});return/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Dias selecionados\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[this.renderRowsCalendUnid(),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-dark\",\"data-toggle\":\"modal\",\"data-target\":\"#modalSubscriptionForm\",onClick:function onClick(){return _this7.getByClick(baseURLFeriados);},children:\"Incluir Feriado\"})})]})]})]});// }\n}}},{key:\"renderRowsCalendUnid\",value:function renderRowsCalendUnid(){var _this8=this;if(initialState.list.length>0){objLocal=initialState.list.filter(function(u){return u.id==urlParams.get(\"value\");});if(initialState.listCatFeriados){var list=initialState.listCatFeriados.filter(function(o){return o.unopId==idMainObj;});listaUpdate=initialState.listCatFeriados;return list.map(function(obj){objtoRemove=obj;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:obj.nome}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{className:\"talbe-links\",\"data-toggle\":\"modal\",\"data-target\":\"#exampleModal\",onClick:function onClick(){return _this8.getObjectByClick(obj,list,baseURLFeriados);},children:/*#__PURE__*/_jsx(FaTrashAlt,{})})})]},obj.id);});}}}},{key:\"render\",value:function render(){var _this9=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"modal fade\",id:\"modalSubscriptionForm\",tabindex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"myModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{class:\"modal-dialog\",role:\"document\",children:/*#__PURE__*/_jsx(\"div\",{class:\"modal-content\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"modal-header text-center\",children:[/*#__PURE__*/_jsx(\"h4\",{class:\"modal-title w-100 font-weight-bold\",id:\"texto_form\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsx(\"div\",{class:\"modal-body mx-3\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"md-form mb-5\",children:[/*#__PURE__*/_jsx(\"label\",{\"data-error\":\"wrong\",\"data-success\":\"right\",for:\"form3\",children:\"Nome\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control form-control-lg\",id:\"nome\",placeholder:\"Nome\",name:\"nome\",required:true,onKeyDown:function onKeyDown(){return _this9.hideMsn();}}),/*#__PURE__*/_jsx(\"small\",{id:\"ms_nome\",className:\"vermelho\"})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"modal-footer d-flex justify-content-center\",children:/*#__PURE__*/_jsxs(\"button\",{class:\"btn btn-success col-md-12\",onClick:function onClick(){return _this9.save();},children:[\"Incluir\",/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-paper-plane-o ml-1\"})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"modal-footer d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn col-md-12\",\"data-dismiss\":\"modal\",children:\"Cancelar\"})})]})})})}),/*#__PURE__*/_jsx(\"div\",{class:\"modal fade\",id:\"exampleModal\",tabindex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{class:\"modal-dialog\",role:\"document\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{class:\"modal-title\",id:\"exampleModalLabel\",children:\"Excluir\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsx(\"div\",{class:\"modal-body\",children:\"Tem certeza que quer excluir?\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-secondary\",\"data-dismiss\":\"modal\",children:\"Fechar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-danger\",\"data-dismiss\":\"modal\",onClick:function onClick(){return _this9.remove(objtoRemove,listaUpdate,baseUrlGenerica);},children:\"Confirmar a Exclus\\xE3o\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{id:\"wrapper\",children:/*#__PURE__*/_jsxs(\"section\",{id:\"intro\",className:\"main\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Configura\\xE7\\xE3o da UNOP\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"section\",{id:\"form-inser-edit\",children:[this.renderEditionFrom(),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{id:\"tables-insert-edit-all\",children:[/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Turnos\"}),this.renderTurnos()]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Restaurantes\"}),this.renderRestaurantes()]})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Configurar Calend\\xE1rio da Unidade\"}),this.renderConfigCalendUnid()]})]})]})]})})]});}}]);return InserirouEditar;}(React.Component);export default InserirouEditar;","map":{"version":3,"sources":["E:/wamp64/www/TESTE SPLENDA/TGP/src/InserirouEditar.js"],"names":["React","FaEdit","FaTrashAlt","BiAddToQueue","axios","Switch","Route","Link","Home","timers","urlParams","URLSearchParams","window","location","search","baseURL","baseURLTurno","baseURLRestaurantes","baseURLFeriados","idMainObj","get","baseUrlGenerica","objLocal","objtoRemove","listaUpdate","getTexto","initialState","unop","list","listCat","obj","getUnops","then","data","listLocal","push","getCatTurno","listCatTurno","getCatRestaurantes","listCatRestaurantes","getCatFeriados","listCatFeriados","InserirouEditar","state","resp","setState","getObjectById","id","filter","u","renderEditionFrom","url","document","getElementById","innerHTML","nome","value","unopId","method","reload","add","unshift","event","target","cnpj","replace","objParam","length","lista","delete","renderRowsTurnos","getByClick","o","map","getObjectByClick","renderRowsRestaurantes","renderRowsCalendUnid","hideMsn","save","remove","renderTurnos","renderRestaurantes","renderConfigCalendUnid","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport logo from './logo.svg';\nimport { FaEdit, FaTrashAlt } from 'react-icons/fa';\nimport { BiAddToQueue } from \"react-icons/bi\";\nimport axios from \"axios\";\nimport { Switch, Route, Link } from 'react-router-dom';\nimport Home from \"./Home\";\nimport { timers } from 'jquery';\n\nconst urlParams = new URLSearchParams(window.location.search);\nconst baseURL = \"http://localhost:3002/unops\";\nconst baseURLTurno = \"http://localhost:3002/lista-turnos\";\nconst baseURLRestaurantes = \"http://localhost:3002/lista-restaurantes\";\nconst baseURLFeriados = \"http://localhost:3002/lista-feriados\";\nvar idMainObj = urlParams.get(\"value\")\nvar baseUrlGenerica = null;\nvar objLocal = null;\nvar objtoRemove = null;\nvar listaUpdate = null;\nvar getTexto = null;\n\n\n// reseta o formulário\nconst initialState = {\n  unop:{\"nome\": \"\",\"cnpj\": \"\",\"situação\": \"\",\n  \"lista-turnos\": {\n    \"id\": \"\",\n    \"nome\": \"\",\n    \"unopId\": \"\"\n  },\n  \"lista-restaurantes\":{\n    \"id\": \"\",\n    \"nome\": \"\",\n    \"unopId\": \"\"\n  },\n  \"lista-feriados\":{\n    \"id\": \"\",\n    \"nome\": \"\",\n    \"unopId\": \"\"\n  }},\n  list:[],\n  listCat:[],\n  obj:{}\n        \n}\n\n\n\nconst getUnops = (unop = null)=>{\n\n  if(unop == null){\n   return axios.get(baseURL).then((unop) => {\n     initialState.list= unop.data;\n   })\n  }else{  \n   var listLocal = [];\n   initialState.list =  listLocal;\n   initialState.list.push(unop);\n   return initialState.list \n\n  }\n\n}\n\ngetUnops();\n\n\nconst getCatTurno = (unop = null)=>{\n\n  if(unop == null){\n   return axios.get(baseURLTurno).then((unop) => {\n    initialState.listCatTurno= unop.data;\n   });\n\n  }\n\n}\n\ngetCatTurno();\n\nconst getCatRestaurantes = (unop = null)=>{\n\n  if(unop == null){\n   return axios.get(baseURLRestaurantes).then((unop) => {\n    initialState.listCatRestaurantes= unop.data;\n   });\n\n  }\n\n}\n\ngetCatRestaurantes();\n\n\nconst getCatFeriados = (unop = null)=>{\n\n  if(unop == null){\n   return axios.get(baseURLFeriados).then((unop) => {\n    initialState.listCatFeriados= unop.data;\n   });\n\n  }\n\n}\n\ngetCatFeriados();\n\n\n\nclass InserirouEditar extends React.Component {\n\n\n\n  constructor(){\n    super();\n    this.state = {initialState};\n  }\n\n\n  componentWillMount(){\n    axios.get(baseURL).then((resp) => {\n      this.setState({ list: resp.data });\n      this.getObjectById()\n    })\n\n\n  }\n\n\n  getObjectById(){\n    \n    var id = urlParams.get(\"value\");\n  \n     var objLocal = initialState.list.filter(u=>u.id == id);\n     this.setState({obj: objLocal});\n     initialState.obj = objLocal\n     this.renderEditionFrom(objLocal)\n  }\n  \n  getByClick(url){\n\n    if(baseUrlGenerica){\n      baseUrlGenerica = null;\n      baseUrlGenerica = url;\n    }else{\n      baseUrlGenerica = url;\n    }\n\n    if(url == \"http://localhost:3002/lista-turnos\"){\n      document.getElementById('texto_form').innerHTML = \"\";\n      document.getElementById('texto_form').innerHTML =\"Incluir Turno\";\n      return\n    }\n    \n    if(url == \"http://localhost:3002/lista-restaurantes\"){\n    document.getElementById('texto_form').innerHTML = \"\";  \n    document.getElementById('texto_form').innerHTML =\"Incluir Restaurante\";\n    return\n    }\n    \n    if(url == \"http://localhost:3002/lista-feriados\"){\n    document.getElementById('texto_form').innerHTML = \"\";  \n    document.getElementById('texto_form').innerHTML =\"Incluir Feriados\";\n    return\n    }\n    \n\n  }\n\n\n  clear(){\n    this.setState({unop:initialState.unop});\n  }\n\n  save(){\n\n    var obj ={\n      \"id\": \"\",\n      \"nome\": \"\",\n      \"unopId\": \"\"\n    }\n    var nome = document.getElementById('nome');\n    obj.nome = nome.value;\n    obj.unopId = idMainObj;\n\n    if(nome.value == null || nome.value == \"\"){\n      document.getElementById('ms_nome').innerHTML = \"Preencha o campo nome!\";\n      return\n    }\n\n// mark\n\n    const unop = obj;\n    const method = obj.id?'put':'post';\n    const url = obj.id?`${baseUrlGenerica}/${obj.id}`:baseUrlGenerica;\n    axios[method](url, obj).then(resp => {\n      document.location.reload();\n    })\n  }\n\n  getUpdateList(unop, add = true){\n  \n    const list = listaUpdate.filter(u=>u.id != unop.id);\n    if(add) list.unshift(unop);\n    return list \n    ;\n    \n  }\n\n\n  updateField(event){\n    const unop = this.state.unop;\n    unop[event.target.nome] = event.target.value;\n    this.setState({unop});\n  }\n\n  mascara_cnpj(cnpj=null){\n  \n    var cnpj = document.getElementById('cnpj');\n\n    cnpj.value = cnpj.value.replace(/\\D/g, \"\")\n    .replace(/(\\d{2})(\\d)/, \"$1.$2\")\n    .replace(/(\\d{3})(\\d)/, \"$1.$2\")\n    .replace(/(\\d{3})(\\d)/, \"$1/$2\")\n    .replace(/(\\d{4})(\\d)/, \"$1-$2\"); \n    \n  }\n \n  \n\n  renderEditionFrom(objParam = null){\n   \n\n      objLocal=initialState.list.filter(u=>u.id == urlParams.get(\"value\"));\n\n      if(initialState.list.length > 0){\n    \n    if(objLocal.length){\n            return (\n\n            \n              <div key={objLocal[0].id}>\n            \n                  <h3> {objLocal[0].id} - {objLocal[0].nome}</h3>\n                  <h3>CNPJ: <span className=\"cnpj\">{objLocal[0].cnpj}</span></h3>\n                      \n              </div>\n            );\n        \n          }\n    \n      }\n      \n    \n}\n\n\nremove(unop, lista, url){\n  axios.delete(`${url}/${unop.id}`).then(resp => {\n    document.location.reload();\n  });\n}\n\ngetObjectByClick(objLocal, lista, url){\n\n  objtoRemove = objLocal;\n  baseUrlGenerica = url;\n  listaUpdate = null;\n  listaUpdate = lista\n  \n}\n\nhideMsn(){\n  document.getElementById('ms_nome').innerHTML = \"\"; \n}\n\n  renderTurnos(){\n\n \n\n    if(initialState.list.length > 0){\n\n      objLocal=initialState.list.filter(u=>u.id == urlParams.get(\"value\"));\n\n\n          \n            return (\n           \n            <table className=\"table\">\n                    <thead className=\"thead-dark\">\n                      <tr>\n                        <th scope=\"col\">Turnos Selecionados</th>\n                        <th scope=\"col\"></th>\n                      </tr>\n                    </thead>\n                    <tbody> \n                        { this.renderRowsTurnos()}  \n                        <tr>\n                          <td></td>\n                            <td><button type=\"button\" className=\"btn btn-dark\" \n                            data-toggle=\"modal\" data-target=\"#modalSubscriptionForm\" onClick={()=>this.getByClick(baseURLTurno)}>Incluir Turno</button></td>\n                        </tr>  \n                        </tbody>\n                   </table>                         \n    \n     \n              );\n            // }\n           \n       \n\n    \n    }\n    \n}\n\n\nrenderRowsTurnos(){\n\n\nif(initialState.list.length > 0){\n\n  objLocal=initialState.list.filter(u=>u.id == urlParams.get(\"value\"));\n\n  if(initialState.listCatTurno){\n\n    if(objLocal.length > 0){\n      \n    var list = initialState.listCatTurno.filter(o => o.unopId == objLocal[0].id);\n\n\n    return list.map(obj => {\n   \n          return(\n            <tr key={obj.id}>\n              <th scope=\"row\">{obj.nome}</th>\n              <td>\n                <Link className=\"talbe-links\" data-toggle=\"modal\" data-target=\"#exampleModal\"\n                 onClick={()=>this.getObjectByClick(obj, list, baseURLTurno)}><FaTrashAlt />\n                 </Link>     \n              </td>\n            </tr>\n        \n      \n      \n          );\n             \n       })\n  \n    }\n\n  }\n  \n \n  \n    }\n}\n\n\nrenderRestaurantes(){\n\n \n\n  if(initialState.list.length > 0){\n\n    objLocal=initialState.list.filter(u=>u.id == urlParams.get(\"value\"));\n\n          return (\n         \n          <table className=\"table\">\n                  <thead className=\"thead-dark\">\n                    <tr>\n                      <th scope=\"col\">Restaurantes selecionados</th>\n                      <th scope=\"col\"></th>\n                    </tr>\n                  </thead>\n                  <tbody> \n                      { this.renderRowsRestaurantes()}  \n                      <tr>\n                        <td></td>\n                          <td><button type=\"button\" className=\"btn btn-dark\" \n                            data-toggle=\"modal\" data-target=\"#modalSubscriptionForm\"\n                             onClick={()=>this.getByClick(baseURLRestaurantes)}>Incluir Restaurante</button></td>\n                      </tr>  \n                      </tbody>\n                 </table>                         \n  \n   \n            );\n          // }\n         \n     \n\n  \n  }\n  \n}\n\n\nrenderRowsRestaurantes(){\n\n\nif(initialState.list.length > 0){\n\nobjLocal=initialState.list.filter(u=>u.id == urlParams.get(\"value\"));\n\nif(initialState.listCatRestaurantes){\n  var list = initialState.listCatRestaurantes.filter(o => o.unopId == urlParams.get(\"value\"));\n\nlistaUpdate = initialState.listCatRestaurantes;\nreturn list.map(obj => {\n  objtoRemove = obj\n  return(\n   \n     <tr key={obj.id}>\n      <th scope=\"row\">{obj.nome}</th>\n      <td><Link className=\"talbe-links\" data-toggle=\"modal\" data-target=\"#exampleModal\" onClick={()=>this.getObjectByClick(obj, list, baseURLRestaurantes)} ><FaTrashAlt /></Link>     \n      </td>\n    </tr>\n   \n     );\n         \n   })\n\n}\n\n  }\n}\n\nrenderConfigCalendUnid(){\n\n\n \n\n  if(initialState.list.length > 0){\n\n    objLocal=initialState.list.filter(u=>u.id == urlParams.get(\"value\"));\n\n\n          return (\n         \n          <table className=\"table\">\n                  <thead className=\"thead-dark\">\n                    <tr>\n                      <th scope=\"col\">Dias selecionados</th>\n                      <th scope=\"col\"></th>\n                    </tr>\n                  </thead>\n                  <tbody> \n                      { this.renderRowsCalendUnid()}  \n                      <tr>\n                        <td></td>\n                          <td><button type=\"button\" className=\"btn btn-dark\" \n                            data-toggle=\"modal\" data-target=\"#modalSubscriptionForm\" onClick={()=>this.getByClick(baseURLFeriados)}>Incluir Feriado</button></td>\n                      </tr>  \n                      </tbody>\n                 </table>                         \n  \n   \n            );\n          // }\n         \n     \n\n  \n  }      \n}\n\n\nrenderRowsCalendUnid(){\n\n\n  if(initialState.list.length > 0 ){\n  \n  objLocal=initialState.list.filter(u=>u.id == urlParams.get(\"value\"));\n  if(initialState.listCatFeriados){\n    var list = initialState.listCatFeriados.filter(o => o.unopId == idMainObj);\n  \n    listaUpdate = initialState.listCatFeriados;\n    return list.map(obj => {\n      objtoRemove = obj\n          return(\n          \n            <tr key={obj.id}>\n              <th scope=\"row\">{obj.nome}</th>\n              <td><Link className=\"talbe-links\" data-toggle=\"modal\" data-target=\"#exampleModal\"onClick={()=>this.getObjectByClick(obj, list, baseURLFeriados)} ><FaTrashAlt /></Link>     \n              </td>\n            </tr>       \n        \n          );\n             \n       })\n  \n  }\n\n  \n    }\n  }\n  \n\n  render(){\n\n\n    return (\n\n      <div className=\"App\">\n\n        <div class=\"modal fade\" id=\"modalSubscriptionForm\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\"\n          aria-hidden=\"true\">\n          <div class=\"modal-dialog\" role=\"document\">\n            <div class=\"modal-content\">\n            <form> \n            <div class=\"modal-header text-center\">\n                <h4 class=\"modal-title w-100 font-weight-bold\" id=\"texto_form\"></h4>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n              <div class=\"modal-body mx-3\">\n                <div class=\"md-form mb-5\">\n                <label data-error=\"wrong\" data-success=\"right\" for=\"form3\">Nome</label>\n                  <input type=\"text\" className=\"form-control form-control-lg\" id=\"nome\" placeholder=\"Nome\" name=\"nome\" \n                    required onKeyDown={()=>this.hideMsn()} />\n                    <small id=\"ms_nome\" className=\"vermelho\"></small>\n                </div>\n              </div>\n              <div class=\"modal-footer d-flex justify-content-center\">\n                <button class=\"btn btn-success col-md-12\" onClick={()=> this.save()}>Incluir<i class=\"fas fa-paper-plane-o ml-1\"></i></button>\n              </div>\n              <div class=\"modal-footer d-flex justify-content-center\">\n              <button type=\"button\" class=\"btn col-md-12\" data-dismiss=\"modal\">Cancelar</button>\n              </div>\n            </form>\n            </div>\n          </div>\n        </div>\n\n\n\n        <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n          <div class=\"modal-dialog\" role=\"document\">\n            <div class=\"modal-content\">\n              <div class=\"modal-header\">\n                <h5 class=\"modal-title\" id=\"exampleModalLabel\">Excluir</h5>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n              <div class=\"modal-body\">\n                Tem certeza que quer excluir?\n              </div>\n              <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Fechar</button>\n                <button type=\"button\" class=\"btn btn-danger\" data-dismiss=\"modal\" onClick={()=>this.remove(objtoRemove, listaUpdate, baseUrlGenerica)}>Confirmar a Exclusão</button>\n              </div>\n            </div>\n          </div>\n        </div>\n          \n        <div id=\"wrapper\">\n  \n          <section id=\"intro\" className=\"main\">\n  \n            <h2>Configuração da UNOP</h2><br/><br/>\n           \n  \n            <section id=\"form-inser-edit\">\n    \n             \n           \n                {this.renderEditionFrom()}\n    \n\n                <form> \n                <div id=\"tables-insert-edit-all\">\n                \n                <section>\n                <h3>Turnos</h3>            \n                {this.renderTurnos()}\n\n                </section>\n\n                <section>\n                      <h3>Restaurantes</h3>\n                      {this.renderRestaurantes()}\n                </section>\n                  \n\n                </div>\n\n               <section>\n                      <h3>Configurar Calendário da Unidade</h3>\n                      \n                       {this.renderConfigCalendUnid()}\n                      </section>\n\n\n            </form>\n\n\n                \n                \n             </section>\n  \n   \n          </section>\n  \n  \n  \n        </div>\n  \n      </div>\n    )\n  \n  \n  \n\n\n\n  }\n\n  \n\n}\n\n\n\nexport default InserirouEditar;\n"]},"metadata":{},"sourceType":"module"}
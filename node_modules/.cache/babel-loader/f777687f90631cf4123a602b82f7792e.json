{"ast":null,"code":"import _classCallCheck from\"E:/wamp64/www/TESTE SPLENDA/TGP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"E:/wamp64/www/TESTE SPLENDA/TGP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"E:/wamp64/www/TESTE SPLENDA/TGP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"E:/wamp64/www/TESTE SPLENDA/TGP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{useEffect}from'react';import logo from\"./logo.svg\";import'./App.css';import{FaEdit,FaTrashAlt,FaSearch}from'react-icons/fa';import{BiAddToQueue}from\"react-icons/bi\";import axios from\"axios\";import{Switch,Route,Link}from'react-router-dom';import InserirouEditar from\"./InserirouEditar\";import PostData from\"./data/db.json\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var baseURL=\"http://localhost:3002/unops\";var baseURLTurno=\"http://localhost:3002/lista-turnos\";var baseURLRestaurantes=\"http://localhost:3002/lista-restaurantes\";var baseURLFeriados=\"http://localhost:3002/lista-feriados\";var baseUrlGenerica=null;var objLocal=null;var objtoRemove=null;var listaUpdate=null;var getTexto=null;// reseta o formulário\nvar initialState={unop:{\"nome\":\"\",\"cnpj\":\"\",\"situação\":\"\",\"lista-turnos\":[],\"lista-restaurantes\":[],\"lista-feriados\":[]},list:[]};var getUnops=function getUnops(){var unop=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(unop==null){return axios.get(baseURL).then(function(unop){initialState.list=unop.data;});}else{var listLocal=[];initialState.list=listLocal;initialState.list.push(unop);return initialState.list;}};getUnops();var Home=/*#__PURE__*/function(_React$Component){_inherits(Home,_React$Component);var _super=_createSuper(Home);//  state ={initialState};\nfunction Home(){var _this;_classCallCheck(this,Home);_this=_super.call(this);_this.state={initialState:initialState};return _this;}_createClass(Home,[{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;axios.get(baseURL).then(function(resp){_this2.setState({list:resp.data});});}},{key:\"getObjectByClick\",value:function getObjectByClick(objLocal,url){objtoRemove=objLocal;baseUrlGenerica=url;listaUpdate=null;}},{key:\"getElSearch\",value:function getElSearch(){var busca=document.getElementById('inputAddress').value.toLowerCase();var tbody=document.getElementById('tbody');for(var i=0;i<tbody.childNodes.length;i++){var achou=false;var tr=tbody.childNodes[i];var td=tr.childNodes;for(var j=0;j<td.length;j++){if(td[j].childNodes[0].nodeValue!=null){var value=td[j].childNodes[0].nodeValue.toLowerCase();if(value.indexOf(busca)>=0||value==busca&&busca!=\"\"){achou=true;}}if(achou){console.log(tr);tr.style.display=\"table-row\";}else{tr.style.display=\"none\";}}//fecha o for filho\n}//fechao o for pai\n}//fecha o método\n},{key:\"getElSearchSelect\",value:function getElSearchSelect(){var selectBusca=document.getElementById('selectBusca').value.toLowerCase();var tbody=document.getElementById('tbody');for(var i=0;i<tbody.childNodes.length;i++){var achou=false;var tr=tbody.childNodes[i];var td=tr.childNodes;for(var j=0;j<td.length;j++){if(td[j].childNodes[0].nodeValue!=null){var value=td[j].childNodes[0].nodeValue.toLowerCase();if(selectBusca==value||selectBusca==\"Situação\"){achou=true;}}if(achou){console.log(tr);tr.style.display=\"table-row\";}else{tr.style.display=\"none\";}}//fecha o for filho\n}//fechao o for pai\n}//fecha o método\n},{key:\"clear\",value:function clear(){this.setState({unop:initialState.unop});}},{key:\"save\",value:function save(){var _this3=this;var unop=this.state.unop;var method=unop.id?'put':'post';var url=unop.id?\"\".concat(baseURL,\"/\").concat(unop.id):baseURL;axios[method](url,unop).then(function(resp){var list=_this3.getUpdateList(resp.data);_this3.setState({unop:initialState.unop,list:list});});}},{key:\"getUpdateList\",value:function getUpdateList(unop){var add=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var list=initialState.list.filter(function(u){return u.id!=unop.id;});if(add)list.unshift(unop);return list;}},{key:\"updateField\",value:function updateField(event){var unop=this.state.unop;unop[event.target.nome]=event.target.value;this.setState({unop:unop});}},{key:\"load\",value:function load(unop){this.setState({unop:unop});window.location.href=\"/insert-edit?value=\"+unop.id;}},{key:\"remove\",value:function remove(unop){var _this4=this;axios.delete(\"\".concat(baseURL,\"/\").concat(unop.id)).then(function(resp){console.log(resp);var list=_this4.getUpdateList(unop,false);});document.location.reload();}// tabela\n},{key:\"renderTable\",value:function renderTable(){return/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Lista de UNOPS\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"C\\xF3digo da UNOP\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Situa\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Edi\\xE7\\xE3o\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{id:\"tbody\",children:[this.renderRows(),/*#__PURE__*/_jsxs(\"tr\",{className:\"trTable\",children:[/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/inserir\",className:\"btn btn-dark\",children:\"Incluir\"})})]})]})]});}// campos da tabela    \n},{key:\"renderRows\",value:function renderRows(){var _this5=this;var param=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var listLocal=[];if(param=false){initialState.list=[];return initialState.list.map(function(unop){objtoRemove=unop;return/*#__PURE__*/_jsxs(\"tr\",{id:unop.id,className:\"trTable\",children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:unop.nome}),/*#__PURE__*/_jsx(\"td\",{children:unop.id}),/*#__PURE__*/_jsx(\"td\",{children:unop.situação}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"span\",{class:\"\",children:/*#__PURE__*/_jsx(Link,{className:\"talbe-links\",\"data-toggle\":\"modal\",\"data-target\":\"#exampleModal\",onClick:function onClick(){return _this5.getObjectByClick(unop,baseURLTurno);},children:/*#__PURE__*/_jsx(FaTrashAlt,{})})}),/*#__PURE__*/_jsx(\"span\",{class:\"\",children:/*#__PURE__*/_jsx(Link,{onClick:function onClick(){return _this5.load(unop);},className:\"talbe-links-home visualizar\",children:/*#__PURE__*/_jsx(FaEdit,{})})})]})]},unop.id);});}else{// listLocal = param;\n// initialState.list= listLocal;\nreturn initialState.list.map(function(unop){return/*#__PURE__*/_jsxs(\"tr\",{className:\"trTable\",children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:unop.nome}),/*#__PURE__*/_jsx(\"td\",{children:unop.id}),/*#__PURE__*/_jsx(\"td\",{children:unop.situação}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"span\",{class:\"\",children:/*#__PURE__*/_jsx(Link,{className:\"talbe-links visualizar\",\"data-toggle\":\"modal\",\"data-target\":\"#exampleModal\",onClick:function onClick(){return _this5.getObjectByClick(unop,baseURLTurno);},children:/*#__PURE__*/_jsx(FaTrashAlt,{})})}),/*#__PURE__*/_jsx(\"span\",{class:\"\",children:/*#__PURE__*/_jsx(Link,{onClick:function onClick(){return _this5.load(unop);},className:\"talbe-links-home visualizar\",children:/*#__PURE__*/_jsx(FaEdit,{})})})]})]},unop.id);});}}},{key:\"render\",value:function render(){var _this6=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"modal fade\",id:\"exampleModal\",tabindex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{class:\"modal-dialog\",role:\"document\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{class:\"modal-title\",id:\"exampleModalLabel\",children:\"Excluir\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsx(\"div\",{class:\"modal-body\",children:\"Tem certeza que quer excluir?\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-secondary\",\"data-dismiss\":\"modal\",children:\"Fechar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-danger\",\"data-dismiss\":\"modal\",onClick:function onClick(){return _this6.remove(objtoRemove,listaUpdate,baseUrlGenerica);},children:\"Confirmar a Exclus\\xE3o\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{id:\"wrapper\",children:/*#__PURE__*/_jsxs(\"section\",{id:\"intro\",className:\"main\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Lista de UNOPS\"}),/*#__PURE__*/_jsx(\"section\",{id:\"filtros\",children:/*#__PURE__*/_jsxs(\"form\",{class:\"nav-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group input-group-search-top\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"search\",className:\"form-control form-control-lg\",id:\"inputAddress\",placeholder:\"Pesquisar UNOP\",onKeyUp:function onKeyUp(){return _this6.getElSearch();}}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-btn \",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",class:\"btn btn-default\",children:/*#__PURE__*/_jsx(FaSearch,{})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group form-control-select\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-control form-control-lg\",id:\"selectBusca\",onChange:function onChange(){return _this6.getElSearchSelect();},children:[/*#__PURE__*/_jsx(\"option\",{children:\"Situa\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Ativa\",children:\"Ativa\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Inativa\",children:\"Inativa\"})]})})]})}),/*#__PURE__*/_jsxs(\"section\",{id:\"lista-unops\",children:[this.renderTable(),/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"Navega\\xE7\\xE3o de p\\xE1gina exemplo\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsxs(\"a\",{className:\"page-link page-link-dark-back\",href:\"#\",\"aria-label\":\"Anterior\",children:[/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\u2039\"}),/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Anterior\"})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"page-link\",href:\"#\",children:\"1\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"page-link\",href:\"#\",children:\"2\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"page-link\",href:\"#\",children:\"3\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsxs(\"a\",{className:\"page-link page-link-dark-back\",href:\"#\",\"aria-label\":\"Pr\\xF3ximo\",children:[/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\u203A\"}),/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Pr\\xF3ximo\"})]})})]})})]})]})})]});}}]);return Home;}(React.Component);export default Home;","map":{"version":3,"sources":["E:/wamp64/www/TESTE SPLENDA/TGP/src/Home.js"],"names":["React","useEffect","FaEdit","FaTrashAlt","FaSearch","BiAddToQueue","axios","Switch","Route","Link","InserirouEditar","PostData","baseURL","baseURLTurno","baseURLRestaurantes","baseURLFeriados","baseUrlGenerica","objLocal","objtoRemove","listaUpdate","getTexto","initialState","unop","list","getUnops","get","then","data","listLocal","push","Home","state","resp","setState","url","busca","document","getElementById","value","toLowerCase","tbody","i","childNodes","length","achou","tr","td","j","nodeValue","indexOf","console","log","style","display","selectBusca","method","id","getUpdateList","add","filter","u","unshift","event","target","nome","window","location","href","delete","reload","renderRows","param","map","situação","getObjectByClick","load","remove","getElSearch","getElSearchSelect","renderTable","Component"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport { FaEdit, FaTrashAlt, FaSearch } from 'react-icons/fa';\nimport { BiAddToQueue } from \"react-icons/bi\";\nimport axios from \"axios\";\nimport { Switch, Route, Link } from 'react-router-dom';\nimport InserirouEditar from \"./InserirouEditar\";\nimport PostData from \"./data/db.json\"\n\nconst baseURL = \"http://localhost:3002/unops\";\nconst baseURLTurno = \"http://localhost:3002/lista-turnos\";\nconst baseURLRestaurantes = \"http://localhost:3002/lista-restaurantes\";\nconst baseURLFeriados = \"http://localhost:3002/lista-feriados\";\nvar baseUrlGenerica = null;\nvar objLocal = null;\nvar objtoRemove = null;\nvar listaUpdate = null;\nvar getTexto = null;\n\n\n// reseta o formulário\nconst initialState = {\n  unop:{\"nome\": \"\",\"cnpj\": \"\",\"situação\": \"\",\"lista-turnos\": [],\n  \"lista-restaurantes\":[],\"lista-feriados\":[]},\n  list:[]\n        \n}\n\nconst getUnops = (unop = null)=>{\n\n   if(unop == null){\n    return axios.get(baseURL).then((unop) => {\n      initialState.list= unop.data;\n    })\n   }else{  \n    var listLocal = [];\n    initialState.list =  listLocal;\n    initialState.list.push(unop);\n    return initialState.list \n \n   }\n   \n  \n  \n}\n\ngetUnops()\n\n\n\n\nclass Home extends React.Component {\n\n  //  state ={initialState};\n  \n\n  constructor(){\n    super();\n    this.state = { initialState }\n  }\n\n  \n  componentWillMount(){\n    axios.get(baseURL).then((resp) => {\n      this.setState({ list: resp.data });\n    })\n\n  }\n\n  getObjectByClick(objLocal, url){\n\n    objtoRemove = objLocal;\n    baseUrlGenerica = url;\n    listaUpdate = null;\n   \n    \n  }\n\ngetElSearch(){\n\n\n\n  var busca = document.getElementById('inputAddress').value.toLowerCase();\n  \n  var tbody = document.getElementById('tbody');\n  \n\n  for( var i=0; i < tbody.childNodes.length; i++ ){\n\n    var achou = false;\n    var tr = tbody.childNodes[i];\n    var td = tr.childNodes;\n\n\n    for(var j=0; j < td.length; j++){\n\n      if(td[j].childNodes[0].nodeValue != null){\n            var value = td[j].childNodes[0].nodeValue.toLowerCase();\n          \n            \n            if(value.indexOf(busca) >= 0 || value == busca && busca != \"\"){\n              achou = true;              \n            }\n            \n            \n\n          }\n      if(achou){\n        console.log(tr);\n        \n        tr.style.display=\"table-row\";\n      }else{\n        tr.style.display=\"none\";\n      }\n\n    }//fecha o for filho\n\n\n    \n\n    \n   }//fechao o for pai\n\n\n     \n\n  }//fecha o método\n\n\n\n  \ngetElSearchSelect(){\n\n  var selectBusca = document.getElementById('selectBusca').value.toLowerCase();\n  \n\n  var tbody = document.getElementById('tbody');\n  \n\n  for( var i=0; i < tbody.childNodes.length; i++ ){\n\n    var achou = false;\n    var tr = tbody.childNodes[i];\n    var td = tr.childNodes;\n\n\n    for(var j=0; j < td.length; j++){\n\n      if(td[j].childNodes[0].nodeValue != null){\n            var value = td[j].childNodes[0].nodeValue.toLowerCase();\n            \n            if(selectBusca == value || selectBusca == \"Situação\"){\n              achou = true; \n            }\n            \n\n          }\n      if(achou){\n        console.log(tr);\n        \n        tr.style.display=\"table-row\";\n      }else{\n        tr.style.display=\"none\";\n      }\n\n    }//fecha o for filho\n\n\n    \n\n    \n   }//fechao o for pai\n\n\n     \n\n  }//fecha o método\n\n\n  clear(){\n    this.setState({unop:initialState.unop});\n  }\n\n  save(){\n    const unop = this.state.unop;\n    const method = unop.id?'put':'post';\n    const url = unop.id?`${baseURL}/${unop.id}`:baseURL;\n    axios[method](url, unop).then(resp => {\n      const list = this.getUpdateList(resp.data);\n      this.setState({unop:initialState.unop, list});\n    })\n  }\n\n  getUpdateList(unop, add = true){\n    const list = initialState.list.filter(u=>u.id != unop.id);\n    if(add) list.unshift(unop);\n    return list \n  }\n\n\n  updateField(event){\n    const unop = this.state.unop;\n    unop[event.target.nome] = event.target.value;\n    this.setState({unop});\n  }\n\n\n  load(unop){\n     this.setState({ unop });\n     window.location.href = \"/insert-edit?value=\"+ unop.id\n  }\n\n  remove(unop){\n    axios.delete(`${baseURL}/${unop.id}`).then(resp => {\n      console.log(resp);\n      const list = this.getUpdateList(unop, false); \n    });\n\n    document.location.reload();\n\n  }\n\n  // tabela\n  renderTable(){\n\n    return (\n\n      <table className=\"table\">\n      <thead className=\"thead-dark\">\n        <tr>\n          <th scope=\"col\">Lista de UNOPS</th>\n          <th scope=\"col\">Código da UNOP</th>\n          <th scope=\"col\">Situação</th>\n          <th scope=\"col\">Edição</th>\n        </tr>\n      </thead>\n      <tbody id=\"tbody\">\n       {this.renderRows()}\n       <tr  className=\"trTable\">\n        <td></td>\n        <td></td>\n        <td></td>\n        <td><a href=\"/inserir\" className=\"btn btn-dark\" \n        >Incluir</a></td>\n      </tr>\n      </tbody>\n    </table>\n\n    );\n\n    }\n\n// campos da tabela    \n\n    renderRows(param = false){\n   \n      var listLocal = [];\n      \n      if(param = false){\n\n\n        initialState.list = [];\n\n        return initialState.list.map(unop => {\n          objtoRemove = unop;\n          return (\n            <tr key={unop.id} id={unop.id} className=\"trTable\">\n              <th scope=\"col\">{unop.nome}</th>\n              <td>{unop.id}</td>\n              <td>{unop.situação}</td>\n              <td>\n              <span class=\"\">\n                {/* mark */}\n                <Link className=\"talbe-links\" data-toggle=\"modal\" data-target=\"#exampleModal\"\n                 onClick={()=>this.getObjectByClick(unop, baseURLTurno)}><FaTrashAlt />\n                 </Link> \n                </span>              \n                <span class=\"\">\n                  <Link onClick={()=> this.load(unop) }  className=\"talbe-links-home visualizar\"><FaEdit />\n                </Link>\n                </span>     \n              </td>\n            </tr>\n          );\n        });\n\n      }else{\n\n        // listLocal = param;\n        // initialState.list= listLocal;\n\n        return initialState.list.map(unop => {\n          return (\n            <tr key={unop.id} className=\"trTable\">\n              <th scope=\"col\">{unop.nome}</th>\n              <td>{unop.id}</td>\n              <td>{unop.situação}</td>\n              <td>    \n                <span class=\"\"> \n                 <Link className=\"talbe-links visualizar\" data-toggle=\"modal\" data-target=\"#exampleModal\"\n                 onClick={()=>this.getObjectByClick(unop, baseURLTurno)}><FaTrashAlt />\n                  </Link>   \n                 </span>        \n                <span class=\"\"><Link onClick={()=> this.load(unop) }  className=\"talbe-links-home visualizar\">\n                  <FaEdit /></Link>\n                </span>     \n              </td>\n            </tr>            \n          \n          );\n        });\n      }\n  \n    }\n\n  render(){\n\n\n    return (\n      <div className=\"App\">\n  \n\n  <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n          <div class=\"modal-dialog\" role=\"document\">\n            <div class=\"modal-content\">\n              <div class=\"modal-header\">\n                <h5 class=\"modal-title\" id=\"exampleModalLabel\">Excluir</h5>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n              <div class=\"modal-body\">\n                Tem certeza que quer excluir?\n              </div>\n              <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Fechar</button>\n                <button type=\"button\" class=\"btn btn-danger\" data-dismiss=\"modal\" onClick={()=>this.remove(objtoRemove, listaUpdate, baseUrlGenerica)}>Confirmar a Exclusão</button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        \n\n        <div id=\"wrapper\">\n  \n          <section id=\"intro\" className=\"main\">\n  \n            <h2>Lista de UNOPS</h2>\n            <section id=\"filtros\">\n                <form class=\"nav-form\">\n                \n                <div className=\"input-group input-group-search-top\">\n                  <input type=\"search\" className=\"form-control form-control-lg\" id=\"inputAddress\" placeholder=\"Pesquisar UNOP\"\n                   onKeyUp={()=>this.getElSearch()} />\n                  <div className=\"input-group-btn \">\n                  <button type=\"submit\" class=\"btn btn-default\">\n                    <FaSearch/>\n                  </button>\n                  </div>\n                </div>\n                \n                <div className=\"form-group form-control-select\">\n                      <select className=\"form-control form-control-lg\" id=\"selectBusca\" onChange={()=>this.getElSearchSelect()}>\n                        <option>Situação</option>\n                        <option value=\"Ativa\">Ativa</option>\n                        <option value=\"Inativa\">Inativa</option>\n                      </select>\n                </div>\n              </form>\n            </section>\n  \n            <section id=\"lista-unops\">\n    \n             \n\n\n             {/* Tabela */}\n             \n             {this.renderTable()}\n             \n\n             {/* Páginação */}\n             <nav aria-label=\"Navegação de página exemplo\">\n                <ul className=\"pagination\">\n                  <li className=\"page-item\">\n                    <a className=\"page-link page-link-dark-back\" href=\"#\" aria-label=\"Anterior\">\n                      <span aria-hidden=\"true\">&lsaquo;</span>\n                      <span className=\"sr-only\">Anterior</span>\n                    </a>\n                  </li>\n                  <li className=\"page-item\"><a className=\"page-link\" href=\"#\">1</a></li>\n                  <li className=\"page-item\"><a className=\"page-link\" href=\"#\">2</a></li>\n                  <li className=\"page-item\"><a className=\"page-link\" href=\"#\">3</a></li>\n                  <li className=\"page-item\">\n                    <a className=\"page-link page-link-dark-back\" href=\"#\" aria-label=\"Próximo\">\n                      <span aria-hidden=\"true\">&rsaquo;</span>\n                      <span className=\"sr-only\">Próximo</span>\n                    </a>\n                  </li>\n                </ul>\n              </nav>\n          </section>\n            \n            \n            \n          </section>\n  \n   \n  \n        </div>\n  \n  \n  \n  \n  \n      </div>\n    )\n  \n  \n  \n\n\n\n  }\n\n  \n\n}\n\n\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}